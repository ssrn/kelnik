"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=7)}([function(e,t,n){n.r(t),t.default=function(){var n;if("IntersectionObserver"in window){n=document.querySelectorAll(".js-lazy");var r=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.src=t.dataset.src,t.classList.remove("js-lazy"),r.unobserve(t)}})});n.forEach(function(e){r.observe(e)})}else{var t;n=document.querySelectorAll(".js-lazy");var e=function e(){t&&clearTimeout(t),t=setTimeout(function(){var t=window.pageYOffset;n.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("js-lazy"))}),0===n.length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationChange",e))},20)};document.addEventListener("scroll",e),window.addEventListener("resize",e),window.addEventListener("orientationChange",e)}}},function(e,t,n){n.r(t),t.default=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e.length,r=t;r<n;r++){var a=document.createElement("article");a.classList.add("flat");var c="";switch(e[r].status){case"свободно":c="free";break;case"забронировано":c="booked";break;case"продано":c="sold";break;default:console.error("значение совйства data.status не задано")}var o='\n      <a href="#" class="flat-card flat-card--'.concat(c,'">\n        <div class="flat-card__header">\n          ').concat(e[r].sale?'<span class="flat-card__label flat-card__sale"> '.concat(e[r].sale," </span>"):"","\n          ").concat(e[r].shockPrice?'<span class="flat-card__label flat-card__shock-price"> шок цена </span>':"",'\n        </div>\n        <div class="flat-card__img-wrap"><img data-src="').concat(e[r].image,'" alt="Планировка" class="flat-card__img js-lazy"></div>\n        <div class="flat-card__body">\n          <h2 class="flat-card__title">').concat(e[r].title,'</h2>\n          <div class="flat-card__param">\n            <div class="flat-card__decoration">').concat(e[r].decoration,'</div>\n            <div class="flat-card__meters">').concat(e[r].meters,' м<sup>2</sup> площадь</div>\n            <div class="flat-card__floor">').concat(e[r].floor,' этаж</div>\n          </div>\n          <div class="flat-card__price">').concat(e[r].price,'</div>\n        </div>\n        <div class="flat-card__footer">\n          <div class="flat-card__status flat-card__status--').concat(c,'">').concat(e[r].status,'</div>\n        </div>\n      </a>\n      <button class="favorite-btn" aria-label="Добавить в избранное"><svg class="icon__star"><use xlink:href="img/svg/sprite.svg#star"></use></svg></button>\n    ');a.innerHTML=o,document.querySelector(".search-result__cards-wrap").appendChild(a)}n===e.length&&document.querySelector(".search-result__more-results").classList.add("hidden")}},function(e,t,n){n.r(t);var r=n(1),a=n(0);t.default=function(){fetch("data/flats.json").then(function(e){return e.json()}).then(function(e){var t=document.querySelectorAll(".flat");Object(r.default)(e.flats,t.length),Object(a.default)()})}},function(e,t,n){n.r(t);var u=n(1),d=n(2),f=n(0);t.default=function(e,t,n,r){var a,c,o,s,i,l=(a=e,o=n,s=r,(c=t).target.classList.toggle("sorter__sort-arrow--asc"),c.target.classList.contains("sorter__sort-arrow--asc")?(i=a.sort(function(e,t){return(e=parseInt(e[o].replace(/ /g,"")))-parseInt(t[o].replace(/ /g,""))}),c.target.setAttribute("aria-label","Сортировать ".concat(s," по убыванию"))):(i=a.sort(function(e,t){return e=parseInt(e[o].replace(/ /g,"")),(t=parseInt(t[o].replace(/ /g,"")))-e}),c.target.setAttribute("aria-label","Сортировать ".concat(s," по возрастанию"))),i);document.querySelector(".search-result__cards-wrap").innerHTML="",Object(u.default)(l,0,12),document.querySelector(".search-result__more-results").removeEventListener("click",d.default),document.querySelector(".search-result__more-results").addEventListener("click",function(){Object(u.default)(l,12),Object(f.default)()})}},function(e,t,n){n.r(t),t.default=function(){var e=document.querySelector(".toggle-menu__hamburger"),t=document.querySelector(".page-header"),n=document.querySelector(".page-header__nav"),r=document.querySelector("body");e.addEventListener("click",function(){e.classList.toggle("is-active"),n.classList.toggle("is-active"),t.classList.toggle("is-fixed"),r.classList.toggle("is-fixed")})}},function(e,t,n){n.r(t),t.default=function(){var e=document.querySelector(".backtotop"),t=window.innerHeight/3,n=!1;window.addEventListener("scroll",function(){n||(window.requestAnimationFrame(function(){r(),n=!1}),n=!0)});var r=function(){window.scrollY>=t&&!e.classList.contains("backtotop--processed")&&(e.classList.add("backtotop--processed"),e.addEventListener("click",a)),window.scrollY<t&&e.classList.contains("backtotop--processed")&&(e.classList.remove("backtotop--processed"),e.removeEventListener("click",a))},a=function(e){window.scroll({top:0,behavior:"smooth"}),e.target.classList.remove("backtotop--processed")}}},function(e,t,n){n.r(t),t.default=function(){document.querySelector(".subscribe__email").oninvalid=function(){this.setCustomValidity("Пожалуйста, введите корректный E-mail")}}},function(e,t,n){n(8),n(5),n(9),n(0),n(2),n(4),n(1),n(3),e.exports=n(6)},function(e,t,n){n.r(t);var r=n(0),a=n(2),c=n(3),o=n(4),s=n(5),i=n(6);document.addEventListener("DOMContentLoaded",function(){Object(r.default)(),Object(s.default)(),Object(o.default)(),Object(i.default)(),document.querySelector(".search-result__more-results").addEventListener("click",a.default);var e=document.querySelector('[data-sort="price"]'),t=document.querySelector('[data-sort="rooms"]');e.addEventListener("click",function(t){fetch("data/flats.json").then(function(e){return e.json()}).then(function(e){Object(c.default)(e.flats,t,"price","цену"),Object(r.default)()})},!0),t.addEventListener("click",function(t){fetch("data/flats.json").then(function(e){return e.json()}).then(function(e){Object(c.default)(e.flats,t,"rooms","комнаты"),Object(r.default)()})},!0)})},function(e,t,n){n.r(t),t.default=function(t,n){for(var e=arguments.length,r=new Array(2<e?e-2:0),a=2;a<e;a++)r[a-2]=arguments[a];fetch("data/flats.json").then(function(e){return e.json()}).then(function(e){t.apply(void 0,[e[n]].concat(r))})}}]);